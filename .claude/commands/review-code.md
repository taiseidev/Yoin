---
description: コードレビューを実施
---

以下の観点から、変更されたコードをレビューしてください：

## レビュー観点

### 1. アーキテクチャ
- [ ] Clean Architectureに従っているか
  - Domain層が他のレイヤーに依存していないか
  - 依存関係の方向が正しいか（Presentation → Domain ← Data）
- [ ] MVIパターンに従っているか
  - Intent, State, Effectが適切に分離されているか
- [ ] レイヤーの責務が正しいか
  - ビジネスロジックがDomain層にあるか
  - UIロジックがPresentation層にあるか

### 2. コーディング規約
- [ ] 命名規則に従っているか
  - クラス: PascalCase
  - 関数・変数: camelCase
  - 定数: UPPER_SNAKE_CASE
- [ ] Kotlinらしいコードか
  - データクラス、拡張関数、スコープ関数を活用しているか
  - Nullable型を適切に扱っているか（?.、?:、let）
- [ ] Composable関数の規約に従っているか
  - Modifierが第一引数か
  - State Hoistingされているか

### 3. エラーハンドリング
- [ ] Result型でラップされているか
- [ ] try-catchで適切に例外処理されているか
- [ ] エラー時のUIフィードバックがあるか

### 4. パフォーマンス
- [ ] 不要な再コンポーズが発生しないか
- [ ] LazyColumnなど仮想化されたリストを使用しているか
- [ ] 画像が適切にリサイズ・圧縮されているか
- [ ] メモリリークの可能性はないか

### 5. セキュリティ
- [ ] 個人情報の扱いが適切か
- [ ] RLS（Row Level Security）が設定されているか
- [ ] 機密情報がハードコードされていないか

### 6. テスト
- [ ] UseCaseのテストがあるか
- [ ] 主要なRepositoryのテストがあるか
- [ ] エッジケースのテストがあるか

### 7. ビジネスルール
- [ ] 撮影制限（ゲスト5枚、無料24枚、プレミアム36枚）を守っているか
- [ ] ルーム作成制限（無料月1回）を守っているか
- [ ] 現像タイミング（翌朝9時）のロジックが正しいか

## レビュー後のアクション
レビュー結果を以下の形式で報告してください：

### ✅ 良い点
- xxx

### ⚠️ 改善提案
- xxx

### 🔴 修正必須
- xxx

## 参考
- [コーディング規約](docs/coding-standards.md)
- [アーキテクチャ設計](docs/architecture.md)
- [機能仕様書](docs/features.md)
